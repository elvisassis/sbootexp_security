package br.com.elvisassis.sbootexp_secutiry.domain.repository;import br.com.elvisassis.sbootexp_secutiry.domain.entity.User;import br.com.elvisassis.sbootexp_secutiry.domain.entity.UserPermission;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.Query;import java.util.List;public interface UserPermissionRepository extends JpaRepository<UserPermission, String> {    @Query("""            SELECT DISTINCT ug             FROM UserPermission ug             JOIN FETCH ug.user u             JOIN FETCH ug.permission g             WHERE u.id = :id            """)    List<UserPermission> findByUserId(String id);    @Query("""            SELECT DISTINCT ug            FROM UserPermission ug             JOIN FETCH ug.user u             JOIN FETCH ug.permission g             WHERE u = ?1            """)    List<UserPermission> findPermissionsByUser(User user);}